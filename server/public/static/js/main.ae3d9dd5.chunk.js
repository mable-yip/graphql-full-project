(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,r){"use strict";r.r(t);var n,a,c,s=r(24),o=r(0),l=r(30),i=r.n(l),j=r(10),d=r(17),b=r(31);!function(e){e.ADMIN="admin",e.TEACHER="teacher",e.STUDENT="student"}(n||(n={})),function(e){e.DAILY="daily",e.WEEKLY="weekly",e.FORNIGHTLY="fornightly",e.MONTHLY="monthly"}(a||(a={})),function(e){e.CREATE="create",e.EDIT="edit"}(c||(c={}));var h,u,O,x,m,p=r(115),g=r(33),f=r(118),v=r(70),C=r(111),N=r(2),w=function(e){var t=Object(o.useState)({firstName:"",lastName:"",email:"",password:"",userType:e.userType}),r=Object(d.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)(""),l=Object(d.a)(c,2),i=l[0],j=l[1],b=Object(o.useState)(void 0),h=Object(d.a)(b,2),u=(h[0],h[1]),O=Object(o.useState)(!1),x=Object(d.a)(O,2),m=(x[0],x[1]),p=function(e){return function(t){var r=t.target.value;a(Object(s.a)(Object(s.a)({},n),{},Object(g.a)({},e,r)))}};return Object(N.jsx)("div",{children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"First Name"}),Object(N.jsx)(f.a.Control,{type:"text",placeholder:"First Name",value:n.firstName,onChange:p("firstName")})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"Last Name"}),Object(N.jsx)(f.a.Control,{type:"text",placeholder:"Last Name",value:n.lastName,onChange:p("lastName")})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"Email address"}),Object(N.jsx)(f.a.Control,{type:"email",placeholder:"Email",value:n.email,onChange:p("email")})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"Password"}),Object(N.jsx)(f.a.Control,{type:"password",placeholder:"Password",value:n.password,onChange:p("password")})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"Confirm Password"}),Object(N.jsx)(f.a.Control,{type:"password",placeholder:"Confirm Password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(N.jsxs)(C.a,{className:"btn-lg btn-dark btn-block",onClick:function(){m(!1),u(void 0)},children:["Create ",e.userType.charAt(0).toUpperCase()+e.userType.slice(1)]})]})})},y=(r(93),r(94),function(e){return Object(N.jsxs)("table",{children:[Object(N.jsx)("thead",{children:e.headers&&e.headers()}),Object(N.jsx)("tbody",{children:e.body&&e.body()})]})}),T=r(60),E=T.a.label(h||(h=Object(b.a)(["\n    color: ",";\n    font-size: 17px;\n    padding-left: 5px;\n    padding-top: 3px;\n    padding-bottom: 5px;\n    padding-right: 5px;\n    cursor: pointer;\n"])),(function(e){return e.color})),L=T.a.button(u||(u=Object(b.a)(["\n    width: auto;\n    height: 35px;\n    background-color: ",";\n    border-radius: 4px;\n    cursor: pointer;\n    border-color: ",";\n\n    &:hover {\n        background-color: ",";\n        & label {\n            color: ",";\n        }\n    }\n"])),(function(e){return e.bgColor}),(function(e){return e.borderColor}),(function(e){return e.hoveredBgColor}),(function(e){return e.hoveredLabelColor})),S=r(116),k=r(121),A=Object(S.a)(O||(O=Object(b.a)(['\n    query {\n        Users(userType: "teacher")\n        {\n            email\n            userType\n            firstName\n            lastName\n        }\n    }\n']))),B=Object(S.a)(x||(x=Object(b.a)(['\n    query {\n        Users(userType: "student")\n        {\n            email\n            userType\n            firstName\n            lastName\n        }\n    }\n']))),M=function(){var e=Object(o.useState)(!1),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(o.useState)(!1),s=Object(d.a)(c,2),l=s[0],i=s[1],j=function(){return a(!1)},b=function(){return i(!1)},h=Object(k.a)(A),u=Object(k.a)(B),O=h.data?h.data.Users:[],x=u.data?u.data.Users:[];console.log(O);var m=["Email","First Name","Last Name","Action"];return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"container",children:[Object(N.jsxs)("div",{className:"mt-3 mr-3",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-sm-6",children:Object(N.jsx)("h2",{children:"Manage Teacher"})}),Object(N.jsx)("div",{className:"col-sm-6",children:Object(N.jsx)(L,{bgColor:"green",hoveredBgColor:"darkgreen",borderColor:"green",hoveredLabelColor:"white",onClick:function(){return a(!0)},children:Object(N.jsx)(E,{color:"white",children:"Add Teacher"})})})]}),Object(N.jsx)(y,{headers:function(){return m.map((function(e){return Object(N.jsxs)("th",{children:[" ",e," "]},e)}))},body:function(){return O.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{children:[" ",e.email," "]}),Object(N.jsxs)("td",{children:[" ",e.firstName," "]}),Object(N.jsxs)("td",{children:[" ",e.lastName," "]}),Object(N.jsx)("td",{children:Object(N.jsx)(L,{bgColor:"white",hoveredBgColor:"red",borderColor:"red",hoveredLabelColor:"white",children:Object(N.jsx)(E,{color:"red",children:" Delete "})})})]})}))}})]}),Object(N.jsxs)("div",{className:"mt-3 ml-3",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-sm-6",children:Object(N.jsx)("h2",{children:"Manage Student"})}),Object(N.jsx)("div",{className:"col-sm-6",children:Object(N.jsx)(L,{bgColor:"green",hoveredBgColor:"darkgreen",borderColor:"green",hoveredLabelColor:"white",onClick:function(){return i(!0)},children:Object(N.jsx)(E,{color:"white",children:"Add Student"})})})]}),Object(N.jsx)(y,{headers:function(){return m.map((function(e){return Object(N.jsxs)("th",{children:[" ",e," "]},e)}))},body:function(){return x.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{children:[" ",e.email," "]}),Object(N.jsxs)("td",{children:[" ",e.firstName," "]}),Object(N.jsxs)("td",{children:[" ",e.lastName," "]}),Object(N.jsx)("td",{children:Object(N.jsx)(L,{bgColor:"white",hoveredBgColor:"red",borderColor:"red",hoveredLabelColor:"white",children:Object(N.jsx)(E,{color:"red",children:" Delete "})})})]})}))}})]})]}),Object(N.jsxs)(p.a,{show:r,onHide:j,children:[Object(N.jsx)(p.a.Header,{closeButton:!0,children:Object(N.jsx)(p.a.Title,{children:"Add Teacher"})}),Object(N.jsx)(p.a.Body,{children:Object(N.jsx)(w,{userType:n.TEACHER,closeModal:j})})]}),Object(N.jsxs)(p.a,{show:l,onHide:b,children:[Object(N.jsx)(p.a.Header,{closeButton:!0,children:Object(N.jsx)(p.a.Title,{children:"Add Student"})}),Object(N.jsx)(p.a.Body,{children:Object(N.jsx)(w,{userType:n.STUDENT,closeModal:b})})]})]})},D=r(61),H=r.n(D),I=r(76),P=(r(98),r(123)),U=r(120),R=function(e){return e.errorMessage?Object(N.jsx)(U.a,{variant:"danger",children:e.errorMessage.message}):Object(N.jsx)("div",{children:" "})},F=r(77),Y=Object(S.a)(m||(m=Object(b.a)(["\n  mutation ($email: String!, $password: String!){\n    login(\n      email: $email,\n      password: $password,\n    )\n  }\n"]))),$=function(){var e=Object(o.useState)({email:"",password:""}),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(P.a)(Y),l=Object(d.a)(c,2),i=l[0],b=l[1],h=b.data,u=b.loading,O=b.error,x=Object(j.g)(),m=function(e){return function(t){var n=t.target.value;a(Object(s.a)(Object(s.a)({},r),{},Object(g.a)({},e,n)))}},p=function(){var e=Object(I.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({variables:{email:r.email,password:r.password}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(h&&!O){localStorage.setItem("profile",h.login);var e=Object(F.a)(h.login);e.userType===n.ADMIN&&x.push("/admin"),e.userType===n.STUDENT&&x.push("/student"),e.userType===n.TEACHER&&x.push("/teacher/classes")}}),[h,O]),console.log("data",h),console.log("error",O),Object(N.jsx)("div",{children:Object(N.jsxs)(f.a,{className:"login-form mt-5",children:[Object(N.jsx)("h1",{className:"text-center",children:" Class Record System "}),u?Object(N.jsx)("h2",{children:" Loading... "}):Object(N.jsxs)("div",{children:[Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"Email address"}),Object(N.jsx)(f.a.Control,{type:"email",placeholder:"Email",value:r.email,onChange:m("email")})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)(f.a.Label,{children:"Password "}),Object(N.jsx)(f.a.Control,{type:"password",placeholder:"Password",value:r.password,onChange:m("password")})]})]}),Object(N.jsx)(R,{errorMessage:O}),Object(N.jsx)(C.a,{className:"btn-lg btn-dark btn-block",onClick:p,children:"Log in"})]})})},q=r(81),z=["authenticationPath"],J=function(e){var t=e.authenticationPath,r=Object(q.a)(e,z),n=Object(o.useState)(!0),a=Object(d.a)(n,2);a[0],a[1];return localStorage.getItem("profile")?(console.log("2"),Object(N.jsx)(j.b,Object(s.a)({},r))):(console.log("1"),Object(N.jsx)(j.a,{to:{pathname:t}}))},G=function(){return Object(N.jsxs)(j.d,{children:[Object(N.jsxs)(j.b,{exact:!0,path:"/login",children:[" ",Object(N.jsx)($,{})]}),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"appBody",children:Object(N.jsx)(J,{path:"/admin",component:M,authenticationPath:"/login",exact:!0})})}),Object(N.jsx)(j.a,{to:"/login"})]})},K=r(59),W=r(80),Q=r(117),V=r(119),X=r(114),Z=r(79),_=Object(W.a)({uri:"http://localhost:4000/graphql"}),ee=Object(Z.a)((function(e,t){var r=t.headers,n=localStorage.getItem("profile");return{headers:Object(s.a)(Object(s.a)({},r),{},{authorization:n?"Bearer ".concat(n):""})}})),te=new Q.a({link:ee.concat(_),cache:new V.a});i.a.render(Object(N.jsx)(X.a,{client:te,children:Object(N.jsx)(K.a,{children:Object(N.jsx)(G,{})})}),document.getElementById("root"))},93:function(e,t,r){},94:function(e,t,r){},98:function(e,t,r){}},[[102,1,2]]]);
//# sourceMappingURL=main.ae3d9dd5.chunk.js.map